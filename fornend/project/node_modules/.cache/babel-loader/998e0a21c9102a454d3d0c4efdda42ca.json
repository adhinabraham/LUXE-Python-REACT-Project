{"ast":null,"code":"var _jsxFileName = \"/home/adhin/sps/week10 project/fornend/project/src/components/order/Paypal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ntoast.configure();\n\nconst Paypal = _ref => {\n  _s();\n\n  let {\n    total\n  } = _ref;\n  const paypal = useRef();\n  const navigate = useNavigate();\n\n  const notification = m => {\n    toast.success(\" \" + m, {\n      theme: \"dark\",\n      position: \"top-center\",\n      autoClose: 5000,\n      hideProgressBar: true,\n      closeOnClick: false,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n  };\n\n  const notification2 = m => {\n    toast.error(\" \" + m, {\n      theme: \"dark\",\n      position: \"top-center\",\n      autoClose: 5000,\n      hideProgressBar: true,\n      closeOnClick: false,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined\n    });\n  };\n\n  useEffect(() => {\n    const placeorder = async () => {\n      try {\n        const paymentoption = \"PayPal\";\n        const data = {}; // const url = \"http://localh/neworderPaypal\";\n        // const { data: res } = await axios.post(url, data);\n        // const createdmessage = res.message;\n        // const notify = notification(createdmessage);\n      } catch (error) {\n        if (error.response && error.response.status >= 400 && error.response.status <= 500) {\n          const errornotify = notification2(error.response.data.message);\n        }\n      } finally {\n        console.log(\"Order Placing completed\");\n      }\n    };\n\n    window.paypal.Buttons({\n      createOrder: (data, actions, err) => {\n        return actions.order.create({\n          intent: \"CAPTURE\",\n          purchase_units: [{\n            description: \"Thank You For Shopping From BRO-CART.\",\n            amount: {\n              currency_code: \"USD\",\n              value: total\n            }\n          }]\n        });\n      },\n      onApprove: async (data, actions) => {\n        const order = await actions.order.capture();\n        console.table(order);\n      },\n      onError: err => {\n        console.error(err);\n      },\n      style: {\n        layout: \"vertical\",\n        color: \"gold\",\n        shape: \"pill\",\n        label: \"pay\"\n      }\n    }).render(paypal.current);\n  }, [total]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: paypal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Paypal, \"F7pWbqUE4h8+xgzj8LcbFoD+cEo=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Paypal;\nexport default Paypal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Paypal\");","map":{"version":3,"sources":["/home/adhin/sps/week10 project/fornend/project/src/components/order/Paypal.js"],"names":["React","useEffect","useRef","useNavigate","toast","axios","configure","Paypal","total","paypal","navigate","notification","m","success","theme","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","notification2","error","placeorder","paymentoption","data","response","status","errornotify","message","console","log","window","Buttons","createOrder","actions","err","order","create","intent","purchase_units","description","amount","currency_code","value","onApprove","capture","table","onError","style","layout","color","shape","label","render","current"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { toast } from \"react-toastify\";\nimport axios from \"axios\";\n\ntoast.configure();\n\nconst Paypal = ({ total }) => {\n  const paypal = useRef();\n  const navigate = useNavigate();\n\n  const notification = (m) => {\n    toast.success(\" \" + m, {\n      theme: \"dark\",\n      position: \"top-center\",\n      autoClose: 5000,\n      hideProgressBar: true,\n      closeOnClick: false,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    });\n  };\n  const notification2 = (m) => {\n    toast.error(\" \" + m, {\n      theme: \"dark\",\n      position: \"top-center\",\n      autoClose: 5000,\n      hideProgressBar: true,\n      closeOnClick: false,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    });\n  };\n\n  useEffect(() => {\n    const placeorder = async () => {\n      try {\n        const paymentoption = \"PayPal\";\n        const data = {};\n        // const url = \"http://localh/neworderPaypal\";\n        // const { data: res } = await axios.post(url, data);\n        // const createdmessage = res.message;\n\n        // const notify = notification(createdmessage);\n      } catch (error) {\n        if (\n          error.response &&\n          error.response.status >= 400 &&\n          error.response.status <= 500\n        ) {\n          const errornotify = notification2(error.response.data.message);\n        }\n      } finally {\n        console.log(\"Order Placing completed\");\n      }\n    };\n    window.paypal\n      .Buttons({\n        createOrder: (data, actions, err) => {\n          return actions.order.create({\n            intent: \"CAPTURE\",\n            purchase_units: [\n              {\n                description: \"Thank You For Shopping From BRO-CART.\",\n                amount: {\n                  currency_code: \"USD\",\n                  value: total,\n                },\n              },\n            ],\n          });\n        },\n        onApprove: async (data, actions) => {\n          const order = await actions.order.capture();\n          console.table(order);\n        },\n\n        onError: (err) => {\n          console.error(err);\n        },\n        style: {\n          layout: \"vertical\",\n          color: \"gold\",\n          shape: \"pill\",\n          label: \"pay\",\n        },\n      })\n      .render(paypal.current);\n  }, [total]);\n\n  return (\n    <div>\n      <div ref={paypal}></div>\n    </div>\n  );\n};\nexport default Paypal;\n"]},"metadata":{},"sourceType":"module"}