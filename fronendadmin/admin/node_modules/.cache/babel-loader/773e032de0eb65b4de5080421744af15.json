{"ast":null,"code":"var _jsxFileName = \"/home/adhin/sps/week10 project/fronendadmin/admin/src/components/form/Login.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useCookies } from \"react-cookie\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [sidebar, setsidebar] = useState();\n  const [name, setName] = useState('');\n  const [namcheck, setnamcheck] = useState(false);\n  const [password, setpassword] = useState(\"\");\n  const [data, setdata] = useState([username]); //   const data = { username: name, password: password };\n\n  const [token, setToken] = useCookies([\"mytoken\"]);\n  const navigate = useNavigate();\n\n  const vaidationusername = value => {\n    const re = /^[A-Za-z ]+$/;\n\n    if (value === \"\") {\n      setnamcheck(true);\n    } else if (value === \" \") {\n      setnamcheck(true);\n    } else if (!re.test(value)) {\n      setnamcheck(true);\n    } else {\n      setName({ ...name,\n        value\n      });\n      setnamcheck(false);\n      setdata([...data, []]);\n    }\n  };\n\n  useEffect(() => {\n    setnamcheck(false);\n  }, [name]);\n  useEffect(() => {\n    if (token[\"mytoken\"]) {\n      navigate(\"/Listuser\");\n      console.log(\"this is token\");\n      setnamcheck(false);\n    }\n  }, [token]);\n\n  const sigin = () => {\n    console.log(\"buttton clicked \");\n    axios.post(\"http://127.0.0.1:8000/api/token/\", data).then(Response => {\n      console.log(Response.data);\n      setToken(\"mytoken\", Response.data.access);\n      navigate(\"/Listuser\");\n      console.log(token[\"mytoken\"]);\n    }).catch(error => {\n      console.log(\"this is an error\");\n    });\n  };\n\n  console.log(name, password);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-screen bg-gradient-to-tl from-slate-50 to-slate-800 w-full py-16 px-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white shadow rounded lg:w-1/3  md:w-1/2 w-full p-10 mt-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            tabIndex: 0,\n            role: \"heading\",\n            \"aria-label\": \"Login to your account\",\n            className: \"text-2xl font-extrabold leading-6 text-gray-800\",\n            children: \"Admin Sigin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full flex items-center justify-between py-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n              className: \"w-full bg-gray-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              className: \"w-full bg-gray-400  \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"lable\", {\n              className: \"text-sm font-medium leading-none text-gray-800\",\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              \"aria-label\": \"enter email adress\",\n              role: \"input\",\n              type: \"text\",\n              className: \"bg-gray-200 border rounded focus:outline-none text-xs font-medium leading-none text-gray-800 py-3 w-full pl-3 mt-2\",\n              onChange: e => {\n                vaidationusername(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), namcheck && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                color: 'red'\n              },\n              children: \"Enter a valid Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6  w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"lable\", {\n              className: \"text-sm font-medium leading-none text-gray-800\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative flex items-center justify-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                \"aria-label\": \"enter Password\",\n                role: \"input\",\n                type: \"password\",\n                className: \"bg-gray-200 border rounded focus:outline-none text-xs font-medium leading-none text-gray-800 py-3 w-full pl-3 mt-2\",\n                onChange: e => {\n                  setpassword(e.target.value);\n                },\n                value: password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute right-0 mt-2 mr-3 cursor-pointer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-8\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              role: \"button\",\n              \"aria-label\": \"create my account\",\n              className: \"focus:ring-2 focus:ring-offset-2 focus:ring-indigo-700 text-sm font-semibold leading-none text-white focus:outline-none bg-indigo-700 border rounded hover:bg-indigo-600 py-4 w-full\",\n              onClick: sigin,\n              children: \"Sigin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"p7lpzwme/h+plrcJD8en+90vAxg=\", false, function () {\n  return [useCookies, useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/adhin/sps/week10 project/fronendadmin/admin/src/components/form/Login.js"],"names":["React","useState","useEffect","axios","useCookies","useNavigate","Login","sidebar","setsidebar","name","setName","namcheck","setnamcheck","password","setpassword","data","setdata","username","token","setToken","navigate","vaidationusername","value","re","test","console","log","sigin","post","then","Response","access","catch","error","e","target","color"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useCookies } from \"react-cookie\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Login() {\n  const [sidebar, setsidebar] = useState();\n  const [name, setName] = useState('');\n  const [namcheck, setnamcheck] = useState(false);\n  const [password, setpassword] = useState(\"\");\n  const [data, setdata] = useState([\n      username\n  ]);\n//   const data = { username: name, password: password };\n  const [token, setToken] = useCookies([\"mytoken\"]);\n  const navigate = useNavigate();\n\n  const vaidationusername = (value) => {\n\n    const re = /^[A-Za-z ]+$/\n    if (value === \"\") {\n      setnamcheck(true);\n    } else if (value === \" \") {\n      setnamcheck(true);\n    } else if (!re.test(value)) {\n      setnamcheck(true);\n    } else {\n      setName({ ...name, value });\n      setnamcheck(false);\n      setdata([...data,[]])\n\n    }\n  };\n\n  useEffect(() => {\n    setnamcheck(false);\n  }, [name]);\n\n  useEffect(() => {\n    if (token[\"mytoken\"]) {\n      navigate(\"/Listuser\");\n      console.log(\"this is token\");\n      setnamcheck(false)\n    }\n  }, [token]);\n\n  const sigin = () => {\n    console.log(\"buttton clicked \");\n    axios\n      .post(\"http://127.0.0.1:8000/api/token/\", data)\n      .then((Response) => {\n        console.log(Response.data);\n        setToken(\"mytoken\", Response.data.access);\n        navigate(\"/Listuser\");\n\n        console.log(token[\"mytoken\"]);\n      })\n      .catch((error) => {\n        console.log(\"this is an error\");\n      });\n  };\n\n  console.log(name, password);\n  return (\n    <div>\n      <div className=\"h-screen bg-gradient-to-tl from-slate-50 to-slate-800 w-full py-16 px-4\">\n        <div className=\"flex flex-col items-center justify-center\">\n          <div className=\"bg-white shadow rounded lg:w-1/3  md:w-1/2 w-full p-10 mt-16\">\n            <p\n              tabIndex={0}\n              role=\"heading\"\n              aria-label=\"Login to your account\"\n              className=\"text-2xl font-extrabold leading-6 text-gray-800\"\n            >\n              Admin Sigin\n            </p>\n\n            <div className=\"w-full flex items-center justify-between py-5\">\n              <hr className=\"w-full bg-gray-400\" />\n\n              <hr className=\"w-full bg-gray-400  \" />\n            </div>\n            <div>\n              <lable className=\"text-sm font-medium leading-none text-gray-800\">\n                Username\n              </lable>\n              <input\n                aria-label=\"enter email adress\"\n                role=\"input\"\n                type=\"text\"\n                className=\"bg-gray-200 border rounded focus:outline-none text-xs font-medium leading-none text-gray-800 py-3 w-full pl-3 mt-2\"\n                onChange={(e) => {\n                  vaidationusername(e.target.value);\n                }}\n                \n              />\n             {namcheck && ( <p style={{color:'red'}}>Enter a valid Username</p>)}\n            </div>\n            <div className=\"mt-6  w-full\">\n              <lable className=\"text-sm font-medium leading-none text-gray-800\">\n                Password\n              </lable>\n              <div className=\"relative flex items-center justify-center\">\n                <input\n                  aria-label=\"enter Password\"\n                  role=\"input\"\n                  type=\"password\"\n                  className=\"bg-gray-200 border rounded focus:outline-none text-xs font-medium leading-none text-gray-800 py-3 w-full pl-3 mt-2\"\n                  onChange={(e) => {\n                    setpassword(e.target.value);\n                  }}\n                  value={password}\n                />\n                <div className=\"absolute right-0 mt-2 mr-3 cursor-pointer\"></div>\n              </div>\n            </div>\n            <div className=\"mt-8\">\n              <button\n                role=\"button\"\n                aria-label=\"create my account\"\n                className=\"focus:ring-2 focus:ring-offset-2 focus:ring-indigo-700 text-sm font-semibold leading-none text-white focus:outline-none bg-indigo-700 border rounded hover:bg-indigo-600 py-4 w-full\"\n                onClick={sigin}\n              >\n                Sigin\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}